!function(t){var e={};function r(n){var i;return(e[n]||(i=e[n]={i:n,l:!1,exports:{}},t[n].call(i.exports,i,i.exports,r),i.l=!0,i)).exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";n={},i=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},s={multiply:function(t,e){return(t*e|0)>>>0},multiply_uint:function(t,e){return(0|i(t=(0|t)>>>0,e=(0|e)>>>0))>>>0},multiply_uint_4:function(t){return((t=(0|t)>>>0)<<2|0)>>>0},divide_uint:function(t,e){return((t=(0|t)>>>0)/(e=(0|e)>>>0)|0)>>>0},divide_2_uint:function(t){return((t=(0|t)>>>0)>>1|0)>>>0},divide_4_uint:function(t){return((t=(0|t)>>>0)>>2|0)>>>0},divide_16_uint:function(t){return((t=(0|t)>>>0)>>4|0)>>>0},divide_32_uint:function(t){return((t=(0|t)>>>0)>>5|0)>>>0},divide_64_uint:function(t){return((t=(0|t)>>>0)>>6|0)>>>0},divide_85_uint:g,divide_128_uint:function(t){return((t=(0|t)>>>0)>>7|0)>>>0},abs_int:function(t){return(0|(t|=0))<0?0|-t:0|t},plus_uint:function(t,e){return((t=(0|t)>>>0)+(e=(0|e)>>>0)|0)>>>0},clamp_int:function(t,e,r){return r|=0,0|((t|=0)<(e|=0)?e:r<t?r:t)},clamp_uint8:function(t){return 255&(0|(0|t)>>>0)},inverse_255:function(t){return 255&(255-(t=(0|t)>>>0)|0)},divide_255:function(t){return((t=(0|t)>>>0)+(1+(t>>8)|0)|0)>>8>>>0},uint_not_equal:function(t,e){return(0|(t=(0|t)>>>0))!=(0|(0|e)>>>0)},clamp_uint32:function(t){return(0|(t=(0|t)>>>0))>>>0>>>0},boolean_and:function(t,e){return(t|=0)&&(e|=0)},min_num:function(t,e){return 0|((0|(t|=0))<(0|(e|=0))?t:e)},max_num:function(t,e){return 0|((0|(e|=0))<(0|(t|=0))?t:e)},modulo_int:function(t,e){return(t|=0)%(e|=0)|0},modulo_uint:function(t,e){return((t=(0|t)>>>0)%(e=(0|e)>>>0)|0)>>>0},plus_int:function(t,e){return(t|=0)+(e|=0)|0},minus_int:function(t,e){return(t|=0)-(e|=0)|0},minus_uint:function(t,e){return((t=(0|t)>>>0)-(e=(0|e)>>>0)|0)>>>0},multiply_int:function(t,e){return 0|i(0|(t|=0),0|(e|=0))},divide_int:function(t,e){return(t|=0)/(e|=0)|0},multiply_255:function(t){return(((t=(0|t)>>>0)<<8)-t+(1&t)|0)>>>0},max_int:function(t,e){return 0|((0|(e|=0))<(0|(t|=0))?t:e)},min_int:function(t,e){return 0|((0|(e|=0))<(0|(t|=0))?e:t)},max_uint:function(t,e){return((0|(e=(0|e)>>>0))<(0|(t=(0|t)>>>0))?t:0|e)>>>0},min_uint:function(t,e){return((0|(e=(0|e)>>>0))<(0|(t=(0|t)>>>0))?e:0|t)>>>0},int_equal:function(t,e){return(0|(t|=0))==(0|e)},int_not_equal:function(t,e){return(0|(t|=0))!=(0|e)},int_less:function(t,e){return(0|(t|=0))<(0|e)},int_less_equal:function(t,e){return(0|(t|=0))<=(0|e)},int_greater:function(t,e){return(0|(e|=0))<(0|t)},int_greater_equal:function(t,e){return(0|(e|=0))<=(0|t)},uint_equal:function(t,e){return(0|(t=(0|t)>>>0))>>>0==(0|(e=(0|e)>>>0))>>>0},uint_less:function(t,e){return(0|(t=(0|t)>>>0))>>>0<(0|(e=(0|e)>>>0))>>>0},uint_less_equal:function(t,e){return(0|(t=(0|t)>>>0))>>>0<=(0|(e=(0|e)>>>0))>>>0},uint_greater:function(t,e){return(0|(e=(0|e)>>>0))>>>0<(0|(t=(0|t)>>>0))>>>0},uint_greater_equal:function(t,e){return(0|(e=(0|e)>>>0))>>>0<=(0|(t=(0|t)>>>0))>>>0},format_int:function(t){return 0|t},format_uint:function(t){return(0|t)>>>0}},c=function(){function t(t){return 0|i(0|(t|=0),0|t)}function e(t){if(0==(0|(t=(0|t)>>>0))||1==(0|t))return 0|t;for(var e=1,r=1;(0|r)<=(0|t);)r=((e=(e+1|0)>>>0)*e|0)>>>0;return(e-1|0)>>>0}var r=s.multiply,n=s.multiply_uint,o=s.multiply_uint_4,u=s.divide_uint,a=s.divide_2_uint,f=s.divide_4_uint,_=s.divide_16_uint,c=s.divide_32_uint,l=s.divide_64_uint,p=s.divide_128_uint,h=s.abs_int,y=s.plus_uint,b=s.clamp_int,d=s.clamp_uint8,m=s.inverse_255,w=s.divide_255,v=s.plus_int,O=s.minus_int,j=s.multiply_255,P=s.max_int,A=s.min_int,k=s.uint_equal,U=s.uint_greater,x=s.format_uint,q=Math.round,M=(Math.ceil,Math.fround),S=M(.8967),C=M(1.761),F=M(.342),I=M(1.185),z=M(.107),B=M(.112),D=new Float32Array(10),L=(D.set(Float32Array.of(S,C,F),0),D.set(Float32Array.of(I,z,B),3),D.set(Uint8Array.of(255,255,255,255),6),D.subarray(0,3)),T=(D.subarray(3,6),D.subarray(6,9));const E=M(.96422),G=M(.82521),H=M(4/29),J=M(6/29),K=3*J*J,N=J*J*J;function Q(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function R(t){return t>N?Math.pow(t,1/3):t/K+H}var V=(0|e(255*S*255+255*C*255+255*F*255|0))>>>0,W=(255*S+255*C+255*F|0)>>>0,X=e(42768)>>>0,Y=M(.03),Z=M(1),$={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function tt(t,e){return this instanceof tt?(e=(0|e)>>>0,this.storage_uint8_=new Uint8Array(t,o(e),4),this):new tt(t,e)}I=new ArrayBuffer(32);var et=new Uint8Array(I,0,4),rt=new Uint8Array(I,4,4),nt=new Uint8Array(I,8,4),it=new Uint8Array(I,12,4),ot=new Uint8Array(I,16,4),ut=new Uint8Array(I,20,4),at=new Float32Array(I,24,2);function ft(t,e){return d(u(y(t,e),2))}function _t(t,e){return d(m(w(i(m(t),m(e)))))}function st(t,e){return d(u(j(t),e))}function ct(t,e,r){return d(w(i(t,u(j(m(e)),r))))}return tt.new_zero=function(){return new tt(ot.slice(0,4).buffer)},tt.new_splat=function(t){return ut.fill(d(t)),new tt(ut.slice(0,4).buffer)},tt.new_of=function(t,e,r,n){return ut[0]=d(t),ut[1]=d(e),ut[2]=d(r),ut[3]=d(n),new tt(ut.slice(0,4).buffer)},tt.new_safe_of=function(t,e,r,n){return ut[0]=b(t,0,255),ut[1]=b(e,0,255),ut[2]=b(r,0,255),ut[3]=b(n,0,255),new tt(ut.slice(0,4).buffer)},tt.new_from=function(t){return new tt(t)},tt.new_array=function(t){return ut[0]=d(t[0]),ut[1]=d(t[1]),ut[2]=d(t[2]),ut[3]=d(t[3]),new tt(ut.slice(0,4).buffer)},tt.new_array_safe=function(t){return ut[0]=d(b(t[0],0,255)),ut[1]=d(b(t[1],0,255)),ut[2]=d(b(t[2],0,255)),ut[3]=d(b(t[3],0,255)),new tt(ut.slice(0,4).buffer)},tt.new_uint32=function(t){return new tt(Uint32Array.of(0|t).buffer)},tt.new_uint32b=function(t){return new tt(new Uint8Array(Uint32Array.of(0|t).buffer).reverse().buffer)},tt.new_hsla=function(t,e,r,n){let i,o,u;function a(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}return t/=360,r/=100,n/=100,0==(e/=100)?i=o=u=r:(i=a(e=2*r-(r=r<.5?r*(1+e):r+e-r*e),r,t+1/3),o=a(e,r,t),u=a(e,r,t-1/3)),tt.new_of(x(255*i),x(255*o),x(255*u),x(255*n))},tt.new_hex=function(t){return tt.new_uint32b(parseInt(function(t){if(void 0===t)return"#00000000";if($.hasOwnProperty(t))return $[t]+"ff";var e,r="",n="",i="",o="#12345678";switch(0|t.length){case 9:o=t;break;case 7:o=t.concat("ff");break;case 5:r=t.charAt(1),n=t.charAt(2),i=t.charAt(3),e=t.charAt(4),o="#".concat(r,r,n,n,i,i,e,e);break;case 4:r=t.charAt(1),n=t.charAt(2),i=t.charAt(3),o="#".concat(r,r,n,n,i,i,"ff")}return o}(t).slice(1),16))},Object.defineProperty(tt.prototype,"tail",{get:function(){return this.tail_}}),Object.defineProperty(tt.prototype,"r",{get:function(){return d(this.storage_uint8_[0])}}),Object.defineProperty(tt.prototype,"g",{get:function(){return d(this.storage_uint8_[1])}}),Object.defineProperty(tt.prototype,"b",{get:function(){return d(this.storage_uint8_[2])}}),Object.defineProperty(tt.prototype,"a",{get:function(){return d(this.storage_uint8_[3])}}),Object.defineProperty(tt.prototype,"pos",{get:function(){var t=this.hsla;return(32*t[0]+16*t[2]+8*t[1]|0)>>>0}}),Object.defineProperty(tt.prototype,"hilbert",{get:function(){for(var t=Uint32Array.of(this.r,this.g,this.b),e=new Uint32Array(4),r=7;0<=(0|r);r=r-1|0)e[1]=1<<r,e[2]=(0<(t[0]&e[1]))<<0|(0<(t[1]&e[1]))<<1|(0<(t[2]&e[1]))<<2,0==e[2]&&(e[3]=t[0],t[0]=t[1],t[1]=e[3],t[2]=~t[2]),1==e[2]&&(e[3]=t[0],t[0]=t[1],t[1]=e[3],t[2]=-1^t[2]),e[0]=e[0]<<3|e[2];return e[0]}}),Object.defineProperty(tt.prototype,"lebesgue",{get:function(){for(var t=Uint32Array.of(this.r,this.g,this.b),e=new Uint32Array(2),r=7;0<=(0|r);r=r-1|0)e[1]=1<<r,e[0]=e[0]<<3|(0<(t[0]&e[1]))<<0|(0<(t[1]&e[1]))<<1|(0<(t[2]&e[1]))<<2;return e[0]}}),Object.defineProperty(tt.prototype,"moore",{get:function(){for(var t=Uint32Array.of(this.r,this.g,this.b),e=new Uint32Array(4),r=7;0<=(0|r);r=r-1|0)e[1]=1<<r,e[2]=(0<(t[0]&e[1]))<<0|(0<(t[1]&e[1]))<<1|(0<(t[2]&e[1]))<<2,0==e[2]&&(e[3]=t[0],t[0]=t[2],t[2]=e[3]),e[0]=e[0]<<3|e[2];return e[0]}}),Object.defineProperty(tt.prototype,"uint32",{get:function(){return(this.storage_uint8_[3]<<24|this.storage_uint8_[2]<<16|this.storage_uint8_[1]<<8|this.storage_uint8_[0]|0)>>>0}}),Object.defineProperty(tt.prototype,"uint32b",{get:function(){return(this.storage_uint8_[0]<<24|this.storage_uint8_[1]<<16|this.storage_uint8_[2]<<8|this.storage_uint8_[3]|0)>>>0}}),Object.defineProperty(tt.prototype,"hex",{get:function(){return"#".concat("00000000".concat(this.uint32b.toString(16)).slice(-8))}}),Object.defineProperty(tt.prototype,"ycbcra",{get:function(){var t=.299*this.r+.587*this.g+.114*this.b,e=-.169*this.r+-.331*this.g+.5*this.b+128,r=.5*this.r+-.419*this.g+-.081*this.b+128,n=this.a;return Uint16Array.of(0|t,0|e,0|r,0|n)}}),Object.defineProperty(tt.prototype,"laba",{get:function(){var t,e,r=Q(this.r),n=Q(this.g),i=Q(this.b),o=R(.2225045*r+.7168786*n+.0606169*i);return r===n&&n===i?t=e=o:(t=R((.4360747*r+.3850649*n+.1430804*i)/E),e=R((.0139322*r+.0971045*n+.7141733*i)/G)),Float32Array.of(116*o-16,500*(t-o),200*(o-e),this.a)}}),Object.defineProperty(tt.prototype,"hsla",{get:function(){var t,e=+d(this.storage_uint8_[0])/255,r=+d(this.storage_uint8_[1])/255,n=+d(this.storage_uint8_[2])/255,i=+d(this.storage_uint8_[3])/255,o=Math.max(e,r,n),u=Math.min(e,r,n),a=(o+u)/2;if(o==u)t=_=0;else{var f=o-u,_=.5<a?f/(2-o-u):f/(o+u);switch(o){case e:t=(r-n)/f+(r<n?6:0);break;case r:t=(n-e)/f+2;break;case n:t=(e-r)/f+4}t/=6}return Array.of(360*t|0,100*_|0,100*a|0,100*i|0)}}),Object.defineProperty(tt.prototype,"rgbaon4bits",{get:function(){return(p(this.storage_uint8_[3])<<3|p(this.storage_uint8_[2])<<2|p(this.storage_uint8_[1])<<1|p(this.storage_uint8_[0])<<0|0)>>>0}}),Object.defineProperty(tt.prototype,"rgbaon6bits",{get:function(){return((16^g(this.storage_uint8_[3]))+(8^g(this.storage_uint8_[2]))+(4^g(this.storage_uint8_[1]))+(0^g(this.storage_uint8_[0]))|0)>>>0}}),Object.defineProperty(tt.prototype,"rgbaon8bits",{get:function(){return(l(this.storage_uint8_[3])<<6|l(this.storage_uint8_[2])<<4|l(this.storage_uint8_[1])<<2|l(this.storage_uint8_[0])<<0|0)>>>0}}),Object.defineProperty(tt.prototype,"rgbaon12bits",{get:function(){return(c(this.storage_uint8_[3])<<9|c(this.storage_uint8_[2])<<6|c(this.storage_uint8_[1])<<3|c(this.storage_uint8_[0])<<0|0)>>>0}}),Object.defineProperty(tt.prototype,"rgbaon16bits",{get:function(){return(_(this.storage_uint8_[3])<<12|_(this.storage_uint8_[2])<<8|_(this.storage_uint8_[1])<<4|_(this.storage_uint8_[0])<<0|0)>>>0}}),Object.defineProperty(tt.prototype,"offset",{get:function(){return f(this.storage_uint8_.byteOffset)}}),Object.defineProperty(tt.prototype,"slice_",{get:function(){return this.storage_uint8_.slice(0,4)}}),Object.defineProperty(tt.prototype,"buffer_",{get:function(){return this.storage_uint8_.buffer.slice(this.storage_uint8_.byteOffset,y(this.storage_uint8_.byteOffset,4))}}),Object.defineProperty(tt.prototype,"subarray_",{get:function(){return this.storage_uint8_}}),Object.defineProperty(tt.prototype,"set",{get:function(){return function(t){t instanceof tt?this.set_from_simdope(t):this.set_from_array(t)}}}),Object.defineProperty(tt.prototype,"set_from_array",{get:function(){return function(t){this.storage_uint8_.set(t.subarray(0,4),0)}}}),Object.defineProperty(tt.prototype,"set_from_simdope",{get:function(){return function(t){this.storage_uint8_.set(t.get_subarray())}}}),Object.defineProperty(tt.prototype,"set_from_buffer",{get:function(){return function(t,e){this.storage_uint8_=new Uint8Array(t,o(e),4)}}}),Object.defineProperty(tt.prototype,"get_tail_opacity",{get:function(){return function(){return 0|this.tail_o_}}}),Object.defineProperty(tt.prototype,"get_tail_opacity_and_reset",{get:function(){return function(){var t=0|this.tail_o_;return delete this.tail_o_,0|t}}}),Object.defineProperty(tt.prototype,"get_tail",{get:function(){return function(){return this.tail_}}}),Object.defineProperty(tt.prototype,"get_tail_and_reset",{get:function(){return function(){var t=this.tail_;return delete this.tail_,t}}}),Object.defineProperty(tt.prototype,"reset_tail",{get:function(){return function(){delete this.tail_,delete this.tail_o_}}}),Object.defineProperty(tt.prototype,"set_tail",{get:function(){return function(t,e){this.tail_=t,this.tail_o_=d(e)}}}),Object.defineProperty(tt.prototype,"simplify",{get:function(){return function(t){t=M(t),this.storage_uint8_[0]=b(r(q(this.r/t),t),0,255),this.storage_uint8_[1]=b(r(q(this.g/t),t),0,255),this.storage_uint8_[2]=b(r(q(this.b/t),t),0,255),this.storage_uint8_[3]=b(r(q(this.a/t),t),0,255)}}}),Object.defineProperty(tt.prototype,"normalize",{get:function(){return function(){var t=this.r+this.g+this.b|0;this.storage_uint8_[0]=b(this.r/t*3|0,0,255),this.storage_uint8_[1]=b(this.g/t*3|0,0,255),this.storage_uint8_[2]=b(this.b/t*3|0,0,255)}}}),Object.defineProperty(tt.prototype,"set_out_of",{get:function(){return function(t,e,r,n){return this.storage_uint8_[0]=d(t),this.storage_uint8_[1]=d(e),this.storage_uint8_[2]=d(r),this.storage_uint8_[3]=d(n),this}}}),Object.defineProperty(tt.prototype,"skin",{get:function(){var t=(e=this.ycbcra)[1],e=e[2];return 80<=t&&t<=120&&133<=e&&e<=173}}),tt.prototype.get_subarray=function(){return this.subarray_},tt.prototype.get_slice=function(){return this.slice_},tt.prototype.get_buffer=function(){return this.buffer_},tt.blend_all=function(t,e,r){for(var n,i=Float32Array.of(t.r,t.g,t.b,t.a,1,1),o=0|e.length,u=0;u<o;u++)n=e[u],i[5]=M(r[u]),i[4]=M(i[4]+i[5]),i[0]+=n.r*i[5]|0,i[1]+=n.g*i[5]|0,i[2]+=n.b*i[5]|0,i[3]+=n.a*i[5]|0;for(ut[0]=d(i[3]/i[4]|0),ut[1]=d(i[2]/i[4]|0),ut[2]=d(i[1]/i[4]|0),ut[3]=d(i[0]/i[4]|0),t.set_from_array(ut),u=0;u<o;u++)e[u].set_from_array(ut)},tt.prototype.blend_first_with_tails=function(t){t|=0;var e=0,r=this.get_tail_and_reset(),i=this.get_tail_opacity_and_reset();if(0!=(0|t))for(;void 0!==r;)i=d(w(n(r.a,i))),e=d(a(y(this.a,i))),tt.merge_scale_of_255_a_fixed_light(this,w(n(this.a,u(j(m(i)),e))),r,u(j(i),e),e),i=r.get_tail_opacity_and_reset(),r=r.get_tail_and_reset();else for(;void 0!==r;)i=d(w(n(r.a,i))),e=d(m(w(n(m(i),m(this.a))))),tt.merge_scale_of_255_a_fixed_light(this,w(n(this.a,u(j(m(i)),e))),r,u(j(i),e),e),i=r.get_tail_opacity_and_reset(),r=r.get_tail_and_reset()},tt.prototype.blend_all_with_tails=function(t){t|=0;var e=0,r=this.get_tail(),i=this.get_tail_opacity_and_reset();if(0!=(0|t))for(;void 0!==r;)i=d(w(n(r.a,i))),e=d(a(y(this.a,i))),tt.merge_scale_of_255_a_fixed_light(this,w(n(this.a,u(j(m(i)),e))),r,u(j(i),e),e),i=r.get_tail_opacity_and_reset(),r=r.get_tail();else for(;void 0!==r;)i=d(w(n(r.a,i))),e=d(m(w(n(m(i),m(this.a))))),tt.merge_scale_of_255_a_fixed_light(this,w(n(this.a,u(j(m(i)),e))),r,u(j(i),e),e),i=r.get_tail_opacity_and_reset(),r=r.get_tail();for(r=this.get_tail_and_reset();void 0!==r;)r.set_from_simdope(this),r=r.get_tail_and_reset()},tt.prototype.blend_with=function(t,e,r,i){return r|=0,i|=0,t.multiply_a_255(0|(e|=0)),0!=(0|r)?this.is_fully_transparent()?t.set_from_array(t.get_subarray()):t.is_fully_transparent()&&this.set_from_array(t.get_subarray()):(e=d(0!=(0|i)?a(y(this.a,t.a)):m(w(n(m(t.a),m(this.a))))),tt.merge_scale_of_255_a_fixed(this,w(n(this.a,u(j(m(t.a)),e))),t,u(j(t.a),e),e)),this},tt.prototype.blend_first_with=function(t,e,r,i){r|=0,i|=0;var o=w(n(t.a,e|=0));return 0!=(0|r)?this.is_fully_transparent()?t.set_from_array(this.get_subarray()):0==(0|o)&&this.set_from_array(t.get_subarray()):(e=d(0!=(0|i)?a(y(this.a,o)):m(w(n(m(o),m(this.a))))),tt.merge_scale_of_255_a_fixed_light(this,w(n(this.a,u(j(m(o)),e))),t,w(n(o,u(j(o),e))),e)),this},tt.prototype.get_difference_with=function(t){return tt.new_of(h(this.r,t.r),h(this.g,t.g),h(this.b,t.b),h(this.a,t.a))},tt.prototype.sum_rgba=function(){return y(y(this.r,this.g),y(this.b,this.a))},tt.prototype.sum_rgb=function(){return y(y(this.r,this.g),this.b)},tt.prototype.average_rgb=function(){return d(u(this.sum_rgb(),3))},tt.prototype.is_dark=function(){return U(w(n(m(this.average_rgb()),this.a)),128)},tt.prototype.is_skin=function(){return this.skin},tt.prototype.is_not_skin=function(){return!this.skin},tt.prototype.is_fully_transparent=function(){return k(this.a,0)},tt.prototype.is_fully_opaque=function(){return k(this.a,255)},tt.prototype.is_not_fully_transparent=function(){return!this.is_fully_transparent()},tt.prototype.is_not_fully_opaque=function(){return!this.is_fully_opaque()},tt.prototype.match_with=function(t,e){return 255==(e=(0|e)>>>0)||(0===e?this.uint32==t.uint32:h(this.r-t.r|0)<(0|e)&&h(this.g-t.g|0)<(0|e)&&h(this.b-t.b|0)<(0|e)&&h(this.a-t.a|0)<(0|e))},tt.prototype.euclidean_match_with=function(r,n){return n=M(n),at[0]=M(Z-M(h(this.a-r.a|0)/T[3])),at[1]=M(at[0]-Y),M(e(L[0]*t(this.r-r.r|0)+L[1]*t(this.g-r.g|0)+L[2]*t(this.b-r.b|0)|0)/V)<M(n*at[1])},tt.prototype.manhattan_match_with=function(t,e){return e=M(e),at[0]=M(Z-M(h(this.a-t.a|0)/T[3])),at[1]=M(at[0]-Y),M((L[0]*h(this.r-t.r|0)+L[1]*h(this.g-t.g|0)+L[2]*h(this.b-t.b|0)|0)/W)<M(e*at[1])},tt.prototype.cie76_match_with=function(r,n){n=M(n),at[0]=M(Z-M(h(this.a-r.a|0)/T[3])),at[1]=M(at[0]*at[0]-Y);var i=this.laba;r=r.laba;return M(e(t(i[0]-r[0])+t(i[1]-r[1])+t(i[2]-r[2])|0)/X)<M(n*at[1])},tt.prototype.set_r=function(t){return this.subarray_[0]=d(t),this},tt.prototype.set_g=function(t){return this.subarray_[1]=d(t),this},tt.prototype.set_b=function(t){return this.subarray_[2]=d(t),this},tt.prototype.set_a=function(t){return this.subarray_[3]=d(t),this},tt.prototype.to_greyscale=function(t){var e=this.subarray_;return e[0]=e[1]=e[2]=this.average_rgb(),this},tt.prototype.to_greyscale_luma=function(t){var e=this.subarray_;return e[0]=e[1]=e[2]=d((this.r*L[0]+this.g*L[1]+this.b*L[2])/3|0),this},tt.prototype.multiply_a_255=function(t){this.subarray_[3]=d(w(n(0|this.a,0|t)))},tt.prototype.copy=function(t){return void 0!==t&&t instanceof tt?(t.set_from_simdope(this),t):new tt(this.slice_.buffer)},tt.with_r=function(t,e){return(t=t.get_slice())[0]=d(e),new tt(t.buffer)},tt.with_g=function(t,e){return(t=t.get_slice())[1]=d(e),new tt(t.buffer)},tt.with_b=function(t,e){return(t=t.get_slice())[2]=d(e),new tt(t.buffer)},tt.with_a=function(t,e){return(t=t.get_slice())[3]=d(e),new tt(t.buffer)},tt.with_inverse=function(t){return(t=t.get_slice())[0]=m(t[0]),t[1]=m(t[1]),t[2]=m(t[2]),t[3]=m(t[3]),new tt(t.buffer)},tt.match=function(t,e,r){return t.match_with(e,r)},tt.blend=function(t,e,r,n,i){return t.copy().blend_first_with(e,r,n,i)},tt.prototype.merge_with_a_fixed=function(t,e){e=d(e);var r=this.subarray_;r[0]=y(this.r,t.r),r[1]=y(this.g,t.g),r[2]=y(this.b,t.b),r[3]=d(e),t.set_from_simdope(this)},tt.merge_scale_of_255_a_fixed=function(t,e,r,i,o){e=d(e),i=d(i),o=d(o);var u=t.get_subarray(),a=r.get_subarray();u[0]=w(n(t.r,e)),u[1]=w(n(t.g,e)),u[2]=w(n(t.b,e)),a[0]=w(n(r.r,i)),a[1]=w(n(r.g,i)),a[2]=w(n(r.b,i)),u[0]=y(t.r,r.r),u[1]=y(t.g,r.g),u[2]=y(t.b,r.b),u[3]=d(o),a[0]=u[0],a[1]=u[1],a[2]=u[2],a[3]=u[3]},tt.merge_scale_of_255_a_fixed_light=function(t,e,r,i,o){e=d(e),i=d(i),o=d(o);var u=t.get_subarray();u[0]=y(w(n(t.r,e)),w(n(r.r,i))),u[1]=y(w(n(t.g,e)),w(n(r.g,i))),u[2]=y(w(n(t.b,e)),w(n(r.b,i))),u[3]=d(o)},tt.scale_rgb_of_on_255=function(t,e,r,i){var o=t.get_subarray();o[0]=w(n(t.r,e)),o[1]=w(n(t.g,r)),o[2]=w(n(t.b,i))},tt.merge_with_a_fixed=function(t,e,r){var n=t.get_subarray();n[0]=y(t.r,e.r),n[1]=y(t.g,e.g),n[2]=y(t.b,e.b),n[3]=d(r),e.set_from_array(n)},tt.blend_all_four=function(t,e,r,i,o,u,a,f,_,s,c,l,g,p){p|=0,0!=(g|=0)&&((t.is_fully_transparent()||o.is_fully_transparent())&&(it[0]=1),(e.is_fully_transparent()||u.is_fully_transparent())&&(it[1]=1),(r.is_fully_transparent()||a.is_fully_transparent())&&(it[2]=1),i.is_fully_transparent()||f.is_fully_transparent())&&(it[3]=1),_=d(_),s=d(s),c=d(c),l=d(l),o.multiply_a_255(_),u.multiply_a_255(s),a.multiply_a_255(c),f.multiply_a_255(l),0!=(0|p)?(et[0]=ft(t.a,_),et[1]=ft(e.a,s),et[2]=ft(r.a,c),et[3]=ft(i.a,l)):(et[0]=_t(o.a,t.a),et[1]=_t(u.a,e.a),et[2]=_t(a.a,r.a),et[3]=_t(f.a,i.a)),rt[0]=st(o.a,et[0]),rt[1]=st(u.a,et[1]),rt[2]=st(a.a,et[2]),rt[3]=st(f.a,et[3]),nt[0]=ct(t.a,o.a,et[0]),nt[1]=ct(e.a,u.a,et[1]),nt[2]=ct(r.a,a.a,et[2]),nt[3]=ct(i.a,f.a,et[3]),o.set_out_of(0,w(n(o.b,rt[0])),w(n(o.g,rt[0])),w(n(o.r,rt[0]))),u.set_out_of(0,w(n(u.b,rt[1])),w(n(u.g,rt[1])),w(n(u.r,rt[1]))),a.set_out_of(0,w(n(a.b,rt[2])),w(n(a.g,rt[2])),w(n(a.r,rt[2]))),f.set_out_of(0,w(n(f.b,rt[3])),w(n(f.g,rt[3])),w(n(f.r,rt[3]))),t.set_out_of(0,w(n(t.b,nt[0])),w(n(t.g,nt[0])),w(n(t.r,nt[0]))),e.set_out_of(0,w(n(e.b,nt[1])),w(n(e.g,nt[1])),w(n(e.r,nt[1]))),r.set_out_of(0,w(n(r.b,nt[2])),w(n(r.g,nt[2])),w(n(r.r,nt[2]))),i.set_out_of(0,w(n(i.b,nt[3])),w(n(i.g,nt[3])),w(n(i.r,nt[3]))),t.merge_with_a_fixed(o,et[0]),e.merge_with_a_fixed(u,et[1]),r.merge_with_a_fixed(a,et[2]),i.merge_with_a_fixed(f,et[3]),0!=(0|it[0])&&(t.set_out_of(0,0,0,0),o.set_out_of(0,0,0,0)),0!=(0|it[1])&&(e.set_out_of(0,0,0,0),u.set_out_of(0,0,0,0)),0!=(0|it[2])&&(r.set_out_of(0,0,0,0),a.set_out_of(0,0,0,0)),0!=(0|it[3])&&(i.set_out_of(0,0,0,0),f.set_out_of(0,0,0,0))},tt.plus=function(t,e){return ut[3]=d(A(255,v(t.r,e.r))),ut[2]=d(A(255,v(t.g,e.g))),ut[1]=d(A(255,v(t.b,e.b))),ut[0]=d(A(255,v(t.a,e.a))),new tt(ut.slice(0,4).buffer)},tt.minus=function(t,e){return ut[3]=d(P(0,O(t.r,e.r))),ut[2]=d(P(0,O(t.g,e.g))),ut[1]=d(P(0,O(t.b,e.b))),ut[0]=d(P(0,O(t.a,e.a))),new tt(ut.slice(0,4).buffer)},tt.average=function(t,e){return ut[3]=d(a(y(t.r,e.r))),ut[2]=d(a(y(t.g,e.g))),ut[1]=d(a(y(t.b,e.b))),ut[0]=d(a(y(t.a,e.a))),new tt(ut.slice(0,4).buffer)},tt}(),o=s.multiply_uint_4,u=s.divide_4_uint,a=s.plus_uint,f=s.clamp_uint8,_=s.clamp_uint32,Object.defineProperty(p.prototype,"length",{get:function(){return this.storage_uint32_array_.length}}),Object.defineProperty(p.prototype,"buffer_",{get:function(){return this.storage_uint8_array_.buffer}}),Object.defineProperty(p.prototype,"buffer_setUint8",{get:function(){return function(t,e){return this.storage_uint8_array_[0|t]=f(0|e)}}}),Object.defineProperty(p.prototype,"get_deduplicated_uint32a",{get:function(){return function(t){return Uint32Array.from(new Set(this.storage_uint32_array_))}}}),Object.defineProperty(p.prototype,"get_colors_count",{get:function(){return function(t){for(var e,r=0,n=this.storage_uint32_array_.length,i=new Uint32Array(t.length);(0|r)<(0|n);r=a(r,1))-1!=(0|(e=t.indexOf(this.storage_uint32_array_[0|r])))&&(i[e]=(i[e]+1|0)>>>0);return i}}}),Object.defineProperty(p.prototype,"get_deduplicated_sorted_uint32a",{get:function(){return function(t,e,r){var n=this.get_deduplicated_uint32a(),i=0|n.length,o=this.get_colors_count(n),u=new Array(i).fill(null).map((function(t,e){return{color:c.new_uint32(n[0|e]),count:o[0|e]}})),a=(t=0|t||i,e=void 0===e?c.new_of(255,255,255,255):"string"==typeof e?c.new_hex(e):"object"==typeof e?c.new_array_safe(e):c.new_uint32(e),r=void 0===r?"hilbert":"moore"===r?"moore":"lebesgue",new c(new ArrayBuffer(4))),f=new c(new ArrayBuffer(4));return u.sort((function(t,e){return t.count-e.count|0})),r="lebesgue",(u=u.slice(0,0|t)).sort((function(t,n){return e.copy(a).blend_first_with(t.color,255),e.copy(f).blend_first_with(n.color,255),a[r]-f[r]|0})),Uint32Array.from(u.map((function(t){return t.color.uint32})))}}}),Object.defineProperty(p.prototype,"buffer_getUint8",{get:function(){return function(t){return this.storage_uint8_array_[0|t]}}}),Object.defineProperty(p.prototype,"buffer_getUint8a",{get:function(){return function(t,e){return e=a(t|=0,o(e=(e|=0)||1)),this.storage_uint8_array_.subarray(t,e)}}}),Object.defineProperty(p.prototype,"buffer_setUint32",{get:function(){return function(t,e){this.storage_uint32_array_[0|t]=_(e)}}}),Object.defineProperty(p.prototype,"buffer_getUint32",{get:function(){return function(t){return this.storage_uint32_array_[0|t]}}}),Object.defineProperty(p.prototype,"subarray_uint32",{get:function(){return function(t,e){return e=(e|=0)||this.length,this.storage_uint32_array_.subarray(t|=0,e)}}}),Object.defineProperty(p.prototype,"slice_uint32",{get:function(){return function(t,e){return e=(e|=0)||this.length,this.storage_uint32_array_.slice(t|=0,e)}}}),Object.defineProperty(p.prototype,"subarray_uint8",{get:function(){return function(t,e){return e|=0,this.storage_uint8_array_.subarray(o(t|=0),o(e))}}}),Object.defineProperty(p.prototype,"slice_uint8",{get:function(){return function(t,e){return e|=0,this.storage_uint8_array_.slice(o(t|=0),o(e))}}}),p.prototype.get_image_data=function(){return new Uint8Array(this.slice_uint32(0,this.length).buffer)},p.prototype.get_element=function(t,e){return void 0!==e?(e.set_from_buffer(this.buffer_,0|t),e):new c(this.buffer_,0|t)},p.prototype.get_use_element=function(t,e){e.set_from_buffer(this.buffer_,0|t)},p.prototype.subarray=function(t,e){return this.buffer_getUint8a(0|t,0|e)},p.prototype.set_element=function(t,e){this.buffer_setUint32(0|t,_(e.uint32))},p.prototype.set_uint32_element=function(t,e){this.buffer_setUint32(0|t,_(e))},p.prototype.get_uint32_element=function(t){return this.buffer_getUint32(t|=0)},p.prototype.get_sub_uint8a=function(t,e){return e|=0,this.buffer_getUint8a(o(t|=0),e)},p.prototype.get_slice_uint8a=function(t,e){return e|=0,this.buffer_getUint8a(o(t|=0),e).slice(0,o(e||1))},p.prototype.get_buffer=function(t,e){return e|=0,this.buffer_getUint8a(o(t|=0),e).buffer},l=p,n.simdops=s,n.Color=c,n.SIMDopeColor=n.Color,n.Colors=l,n.SIMDopeColors=n.Colors;var n,i,o,u,a,f,_,s,c,l=n;function g(t){return((t=(0|t)>>>0)/85|0)>>>0}function p(t,e,r){return this instanceof p?(e|=0,void 0!==t?(void 0!==t.data?(r=0|r||0|t.data.buffer.byteLength,this.storage_uint8_array_=new Uint8Array(t.data.buffer,e,r),this.storage_uint32_array_=new Uint32Array(t.data.buffer,e,u(r))):void 0!==t.buffer?(r=0|r||0|t.buffer.byteLength,this.storage_uint8_array_=new Uint8Array(t.buffer,e,r),this.storage_uint32_array_=new Uint32Array(t.buffer,e,u(r))):(r=0|r||0|t.byteLength,this.storage_uint8_array_=new Uint8Array(t,e,r),this.storage_uint32_array_=new Uint32Array(t,e,u(r))),this):null):new p(t)}t.exports=l},function(t,e,r){"use strict";r.r(e),e=r(0),window.SIMDOPE=r.n(e).a}]);