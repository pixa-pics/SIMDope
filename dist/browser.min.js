!function(t){var e={};function r(n){var i;return(e[n]||(i=e[n]={i:n,l:!1,exports:{}},t[n].call(i.exports,i,i.exports,r),i.l=!0,i)).exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";n={},i=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},s={multiply_uint:function(t,e){return(0|i(t=(0|t)>>>0,e=(0|e)>>>0))>>>0},multiply_uint_4:function(t){return((t=(0|t)>>>0)<<2|0)>>>0},divide_uint:function(t,e){return((t=(0|t)>>>0)/(e=(0|e)>>>0)|0)>>>0},divide_2_uint:function(t){return((t=(0|t)>>>0)>>1|0)>>>0},divide_4_uint:function(t){return((t=(0|t)>>>0)>>2|0)>>>0},divide_16_uint:function(t){return((t=(0|t)>>>0)>>4|0)>>>0},divide_32_uint:function(t){return((t=(0|t)>>>0)>>5|0)>>>0},divide_64_uint:function(t){return((t=(0|t)>>>0)>>6|0)>>>0},divide_85_uint:g,divide_128_uint:function(t){return((t=(0|t)>>>0)>>7|0)>>>0},abs_int:function(t){return(0|(t|=0))<0?0|-t:0|t},plus_uint:function(t,e){return((t=(0|t)>>>0)+(e=(0|e)>>>0)|0)>>>0},clamp_int:function(t,e,r){return r|=0,0|((t|=0)<(e|=0)?e:r<t?r:t)},clamp_uint8:function(t){return 255&(0|(0|t)>>>0)},inverse_255:function(t){return 255&(255-(t=(0|t)>>>0)|0)},divide_255:function(t){return((t=(0|t)>>>0)+(1+(t>>8)|0)|0)>>8>>>0},uint_not_equal:function(t,e){return(0|(t=(0|t)>>>0))!=(0|(0|e)>>>0)},clamp_uint32:function(t){return(0|(t=(0|t)>>>0))>>>0>>>0},boolean_and:function(t,e){return(t|=0)&&(e|=0)},min_num:function(t,e){return 0|((0|(t|=0))<(0|(e|=0))?t:e)},max_num:function(t,e){return 0|((0|(e|=0))<(0|(t|=0))?t:e)},modulo_int:function(t,e){return(t|=0)%(e|=0)|0},modulo_uint:function(t,e){return((t=(0|t)>>>0)%(e=(0|e)>>>0)|0)>>>0},plus_int:function(t,e){return(t|=0)+(e|=0)|0},minus_int:function(t,e){return(t|=0)-(e|=0)|0},minus_uint:function(t,e){return((t=(0|t)>>>0)-(e=(0|e)>>>0)|0)>>>0},multiply_int:function(t,e){return 0|i(0|(t|=0),0|(e|=0))},divide_int:function(t,e){return(t|=0)/(e|=0)|0},multiply_255:function(t){return(((t=(0|t)>>>0)<<8)-t+(1&t)|0)>>>0},max_int:function(t,e){return 0|((0|(e|=0))<(0|(t|=0))?t:e)},min_int:function(t,e){return 0|((0|(e|=0))<(0|(t|=0))?e:t)},max_uint:function(t,e){return((0|(e=(0|e)>>>0))<(0|(t=(0|t)>>>0))?t:0|e)>>>0},min_uint:function(t,e){return((0|(e=(0|e)>>>0))<(0|(t=(0|t)>>>0))?e:0|t)>>>0},int_equal:function(t,e){return(0|(t|=0))==(0|e)},int_not_equal:function(t,e){return(0|(t|=0))!=(0|e)},int_less:function(t,e){return(0|(t|=0))<(0|e)},int_less_equal:function(t,e){return(0|(t|=0))<=(0|e)},int_greater:function(t,e){return(0|(e|=0))<(0|t)},int_greater_equal:function(t,e){return(0|(e|=0))<=(0|t)},uint_equal:function(t,e){return(0|(t=(0|t)>>>0))>>>0==(0|(e=(0|e)>>>0))>>>0},uint_less:function(t,e){return(0|(t=(0|t)>>>0))>>>0<(0|(e=(0|e)>>>0))>>>0},uint_less_equal:function(t,e){return(0|(t=(0|t)>>>0))>>>0<=(0|(e=(0|e)>>>0))>>>0},uint_greater:function(t,e){return(0|(e=(0|e)>>>0))>>>0<(0|(t=(0|t)>>>0))>>>0},uint_greater_equal:function(t,e){return(0|(e=(0|e)>>>0))>>>0<=(0|(t=(0|t)>>>0))>>>0},format_int:function(t){return 0|t},format_uint:function(t){return(0|t)>>>0}},c=function(){function t(t){return 0|i(0|(t|=0),0|t)}function e(t){if(0==(0|(t=(0|t)>>>0))||1==(0|t))return 0|t;for(var e=1,r=1;(0|r)<=(0|t);)r=((e=(e+1|0)>>>0)*e|0)>>>0;return(e-1|0)>>>0}var r=s.multiply_uint,n=s.multiply_uint_4,o=s.divide_uint,u=s.divide_2_uint,a=s.divide_4_uint,f=s.divide_16_uint,_=s.divide_32_uint,c=s.divide_64_uint,l=s.divide_128_uint,h=s.abs_int,p=s.plus_uint,y=s.clamp_int,b=s.clamp_uint8,d=s.inverse_255,m=s.divide_255,w=s.plus_int,v=s.minus_int,O=s.multiply_255,j=s.max_int,P=s.min_int,A=s.uint_equal,k=s.uint_greater,U=s.format_uint,x=Math.round,q=Math.fround,M=q(.8967),S=q(1.761),C=q(.342),F=q(1.185),I=q(.107),z=q(.112),B=new Float32Array(10),D=(B.set(Float32Array.of(M,S,C),0),B.set(Float32Array.of(F,I,z),3),B.set(Uint8Array.of(255,255,255,255),6),B.subarray(0,3)),L=(B.subarray(3,6),B.subarray(6,9));const T=q(.96422),E=q(.82521),G=q(4/29),H=q(6/29),J=3*H*H,K=H*H*H;function N(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Q(t){return t>K?Math.pow(t,1/3):t/J+G}var R=(0|e(255*M*255+255*S*255+255*C*255|0))>>>0,V=(255*M+255*S+255*C|0)>>>0,W=e(42768)>>>0,X=q(.03),Y=q(1),Z={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $(t,e){return this instanceof $?(e=(0|e)>>>0,this.storage_uint8_=new Uint8Array(t,n(e),4),this):new $(t,e)}F=new ArrayBuffer(32);var tt=new Uint8Array(F,0,4),et=new Uint8Array(F,4,4),rt=new Uint8Array(F,8,4),nt=new Uint8Array(F,12,4),it=new Uint8Array(F,16,4),ot=new Uint8Array(F,20,4),ut=new Float32Array(F,24,2);function at(t,e){return b(o(p(t,e),2))}function ft(t,e){return b(d(m(i(d(t),d(e)))))}function _t(t,e){return b(o(O(t),e))}function st(t,e,r){return b(m(i(t,o(O(d(e)),r))))}return $.new_zero=function(){return new $(it.slice(0,4).buffer)},$.new_splat=function(t){return ot.fill(b(t)),new $(ot.slice(0,4).buffer)},$.new_of=function(t,e,r,n){return ot[0]=b(t),ot[1]=b(e),ot[2]=b(r),ot[3]=b(n),new $(ot.slice(0,4).buffer)},$.new_safe_of=function(t,e,r,n){return ot[0]=y(t,0,255),ot[1]=y(e,0,255),ot[2]=y(r,0,255),ot[3]=y(n,0,255),new $(ot.slice(0,4).buffer)},$.new_from=function(t){return new $(t)},$.new_array=function(t){return ot[0]=b(t[0]),ot[1]=b(t[1]),ot[2]=b(t[2]),ot[3]=b(t[3]),new $(ot.slice(0,4).buffer)},$.new_array_safe=function(t){return ot[0]=b(y(t[0],0,255)),ot[1]=b(y(t[1],0,255)),ot[2]=b(y(t[2],0,255)),ot[3]=b(y(t[3],0,255)),new $(ot.slice(0,4).buffer)},$.new_uint32=function(t){return new $(Uint32Array.of(0|t).buffer)},$.new_uint32b=function(t){return new $(new Uint8Array(Uint32Array.of(0|t).buffer).reverse().buffer)},$.new_hsla=function(t,e,r,n){let i,o,u;function a(t,e,r){return r<0&&(r+=1),1<r&&--r,r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}return t/=360,r/=100,n/=100,0==(e/=100)?i=o=u=r:(i=a(e=2*r-(r=r<.5?r*(1+e):r+e-r*e),r,t+1/3),o=a(e,r,t),u=a(e,r,t-1/3)),$.new_of(U(255*i),U(255*o),U(255*u),U(255*n))},$.new_hex=function(t){return $.new_uint32b(parseInt(function(t){if(void 0===t)return"#00000000";if(Z.hasOwnProperty(t))return Z[t]+"ff";var e,r="",n="",i="",o="#12345678";switch(0|t.length){case 9:o=t;break;case 7:o=t.concat("ff");break;case 5:r=t.charAt(1),n=t.charAt(2),i=t.charAt(3),e=t.charAt(4),o="#".concat(r,r,n,n,i,i,e,e);break;case 4:r=t.charAt(1),n=t.charAt(2),i=t.charAt(3),o="#".concat(r,r,n,n,i,i,"ff")}return o}(t).slice(1),16))},Object.defineProperty($.prototype,"tail",{get:function(){return this.tail_}}),Object.defineProperty($.prototype,"r",{get:function(){return b(this.storage_uint8_[0])}}),Object.defineProperty($.prototype,"g",{get:function(){return b(this.storage_uint8_[1])}}),Object.defineProperty($.prototype,"b",{get:function(){return b(this.storage_uint8_[2])}}),Object.defineProperty($.prototype,"a",{get:function(){return b(this.storage_uint8_[3])}}),Object.defineProperty($.prototype,"pos",{get:function(){var t=this.hsla;return(32*t[0]+16*t[2]+8*t[1]|0)>>>0}}),Object.defineProperty($.prototype,"hilbert",{get:function(){for(var t=Uint32Array.of(this.r,this.g,this.b),e=new Uint32Array(4),r=7;0<=(0|r);r=r-1|0)e[1]=1<<r,e[2]=(0<(t[0]&e[1]))<<0|(0<(t[1]&e[1]))<<1|(0<(t[2]&e[1]))<<2,0==e[2]&&(e[3]=t[0],t[0]=t[1],t[1]=e[3],t[2]=~t[2]),1==e[2]&&(e[3]=t[0],t[0]=t[1],t[1]=e[3],t[2]=-1^t[2]),e[0]=e[0]<<3|e[2];return e[0]}}),Object.defineProperty($.prototype,"lebesgue",{get:function(){for(var t=Uint32Array.of(this.r,this.g,this.b),e=new Uint32Array(2),r=7;0<=(0|r);r=r-1|0)e[1]=1<<r,e[0]=e[0]<<3|(0<(t[0]&e[1]))<<0|(0<(t[1]&e[1]))<<1|(0<(t[2]&e[1]))<<2;return e[0]}}),Object.defineProperty($.prototype,"moore",{get:function(){for(var t=Uint32Array.of(this.r,this.g,this.b),e=new Uint32Array(4),r=7;0<=(0|r);r=r-1|0)e[1]=1<<r,e[2]=(0<(t[0]&e[1]))<<0|(0<(t[1]&e[1]))<<1|(0<(t[2]&e[1]))<<2,0==e[2]&&(e[3]=t[0],t[0]=t[2],t[2]=e[3]),e[0]=e[0]<<3|e[2];return e[0]}}),Object.defineProperty($.prototype,"uint32",{get:function(){return(this.storage_uint8_[3]<<24|this.storage_uint8_[2]<<16|this.storage_uint8_[1]<<8|this.storage_uint8_[0]|0)>>>0}}),Object.defineProperty($.prototype,"uint32b",{get:function(){return(this.storage_uint8_[0]<<24|this.storage_uint8_[1]<<16|this.storage_uint8_[2]<<8|this.storage_uint8_[3]|0)>>>0}}),Object.defineProperty($.prototype,"hex",{get:function(){return"#".concat("00000000".concat(this.uint32b.toString(16)).slice(-8))}}),Object.defineProperty($.prototype,"ycbcra",{get:function(){var t=.299*this.r+.587*this.g+.114*this.b,e=-.169*this.r+-.331*this.g+.5*this.b+128,r=.5*this.r+-.419*this.g+-.081*this.b+128,n=this.a;return Uint16Array.of(0|t,0|e,0|r,0|n)}}),Object.defineProperty($.prototype,"laba",{get:function(){var t,e,r=N(this.r),n=N(this.g),i=N(this.b),o=Q(.2225045*r+.7168786*n+.0606169*i);return r===n&&n===i?t=e=o:(t=Q((.4360747*r+.3850649*n+.1430804*i)/T),e=Q((.0139322*r+.0971045*n+.7141733*i)/E)),Float32Array.of(116*o-16,500*(t-o),200*(o-e),this.a)}}),Object.defineProperty($.prototype,"hsla",{get:function(){var t,e=+b(this.storage_uint8_[0])/255,r=+b(this.storage_uint8_[1])/255,n=+b(this.storage_uint8_[2])/255,i=+b(this.storage_uint8_[3])/255,o=Math.max(e,r,n),u=Math.min(e,r,n),a=(o+u)/2;if(o==u)t=_=0;else{var f=o-u,_=.5<a?f/(2-o-u):f/(o+u);switch(o){case e:t=(r-n)/f+(r<n?6:0);break;case r:t=(n-e)/f+2;break;case n:t=(e-r)/f+4}t/=6}return Array.of(360*t|0,100*_|0,100*a|0,100*i|0)}}),Object.defineProperty($.prototype,"rgbaon4bits",{get:function(){return(l(this.storage_uint8_[0])<<3|l(this.storage_uint8_[1])<<2|l(this.storage_uint8_[2])<<1|l(this.storage_uint8_[3])<<0|0)>>>0}}),Object.defineProperty($.prototype,"rgbaon6bits",{get:function(){return((16^g(this.storage_uint8_[3]))+(8^g(this.storage_uint8_[2]))+(4^g(this.storage_uint8_[1]))+(0^g(this.storage_uint8_[0]))|0)>>>0}}),Object.defineProperty($.prototype,"rgbaon8bits",{get:function(){return(c(this.storage_uint8_[0])<<6|c(this.storage_uint8_[1])<<4|c(this.storage_uint8_[2])<<2|c(this.storage_uint8_[3])<<0|0)>>>0}}),Object.defineProperty($.prototype,"rgbaon12bits",{get:function(){return(_(this.storage_uint8_[0])<<9|_(this.storage_uint8_[1])<<6|_(this.storage_uint8_[2])<<3|_(this.storage_uint8_[3])<<0|0)>>>0}}),Object.defineProperty($.prototype,"rgbaon16bits",{get:function(){return(f(this.storage_uint8_[0])<<12|f(this.storage_uint8_[1])<<8|f(this.storage_uint8_[2])<<4|f(this.storage_uint8_[3])<<0|0)>>>0}}),Object.defineProperty($.prototype,"offset",{get:function(){return a(this.storage_uint8_.byteOffset)}}),Object.defineProperty($.prototype,"slice_",{get:function(){return this.storage_uint8_.slice(0,4)}}),Object.defineProperty($.prototype,"buffer_",{get:function(){return this.storage_uint8_.buffer.slice(this.storage_uint8_.byteOffset,p(this.storage_uint8_.byteOffset,4))}}),Object.defineProperty($.prototype,"subarray_",{get:function(){return this.storage_uint8_}}),Object.defineProperty($.prototype,"set",{get:function(){return function(t){t instanceof $?this.set_from_simdope(t):this.set_from_array(t)}}}),Object.defineProperty($.prototype,"set_from_array",{get:function(){return function(t){this.storage_uint8_.set(t.subarray(0,4),0)}}}),Object.defineProperty($.prototype,"set_from_simdope",{get:function(){return function(t){this.storage_uint8_[0]=b(t.r),this.storage_uint8_[1]=b(t.g),this.storage_uint8_[2]=b(t.b),this.storage_uint8_[3]=b(t.a)}}}),Object.defineProperty($.prototype,"set_from_buffer",{get:function(){return function(t,e){this.storage_uint8_=new Uint8Array(t,n(e),4)}}}),Object.defineProperty($.prototype,"get_tail_opacity",{get:function(){return function(){return 0|this.tail_o_}}}),Object.defineProperty($.prototype,"get_tail_opacity_and_reset",{get:function(){return function(){var t=0|this.tail_o_;return delete this.tail_o_,0|t}}}),Object.defineProperty($.prototype,"get_tail",{get:function(){return function(){return this.tail_}}}),Object.defineProperty($.prototype,"get_tail_and_reset",{get:function(){return function(){var t=this.tail_;return delete this.tail_,t}}}),Object.defineProperty($.prototype,"reset_tail",{get:function(){return function(){delete this.tail_,delete this.tail_o_}}}),Object.defineProperty($.prototype,"set_tail",{get:function(){return function(t,e){this.tail_=t,this.tail_o_=b(e)}}}),Object.defineProperty($.prototype,"simplify",{get:function(){return function(t){t=q(t),this.storage_uint8_[0]=r(x(this.r/t),t),this.storage_uint8_[1]=r(x(this.g/t),t),this.storage_uint8_[2]=r(x(this.b/t),t),this.storage_uint8_[3]=r(x(this.a/t),t)}}}),Object.defineProperty($.prototype,"normalize",{get:function(){return function(){var t=this.r+this.g+this.b|0;this.storage_uint8_[0]=y(this.r/t*3|0,0,255),this.storage_uint8_[1]=y(this.g/t*3|0,0,255),this.storage_uint8_[2]=y(this.b/t*3|0,0,255)}}}),Object.defineProperty($.prototype,"set_out_of",{get:function(){return function(t,e,r,n){return this.storage_uint8_[0]=b(t),this.storage_uint8_[1]=b(e),this.storage_uint8_[2]=b(r),this.storage_uint8_[3]=b(n),this}}}),Object.defineProperty($.prototype,"skin",{get:function(){var t=(e=this.ycbcra)[1],e=e[2];return 80<=t&&t<=120&&133<=e&&e<=173}}),$.prototype.get_subarray=function(){return this.subarray_},$.prototype.get_slice=function(){return this.slice_},$.prototype.get_buffer=function(){return this.buffer_},$.blend_all=function(t,e,r){for(var n,i,o=t.r,u=t.g,a=t.b,f=t.a,_=1,s=0|e.length,c=0;c<s;c++)n=e[c],_+=i=q(r[c]),o+=n.r*i|0,u+=n.g*i|0,a+=n.b*i|0,f+=n.a*i|0;for(ot[0]=b(f/_|0),ot[1]=b(a/_|0),ot[2]=b(u/_|0),ot[3]=b(o/_|0),t.set_from_array(ot),c=0;c<s;c++)e[c].set_from_array(ot)},$.prototype.blend_first_with_tails=function(t){t|=0;var e=0,n=this.get_tail_and_reset(),i=this.get_tail_opacity_and_reset();if(0!=(0|t))for(;void 0!==n;)i=b(m(r(n.a,i))),e=b(u(p(this.a,i))),$.merge_scale_of_255_a_fixed_light(this,m(r(this.a,o(O(d(i)),e))),n,o(O(i),e),e),i=n.get_tail_opacity(),n=n.get_tail();else for(;void 0!==n;)i=b(m(r(n.a,i))),e=b(d(m(r(d(i),d(this.a))))),$.merge_scale_of_255_a_fixed_light(this,m(r(this.a,o(O(d(i)),e))),n,o(O(i),e),e),i=n.get_tail_opacity(),n=n.get_tail()},$.prototype.blend_all_with_tails=function(t){t|=0;var e=0,n=this.get_tail_and_reset(),i=this.get_tail_opacity_and_reset(),a=[];if(0!=(0|t))for(;void 0!==n;)i=b(m(r(n.a,i))),e=b(u(p(this.a,i))),$.merge_scale_of_255_a_fixed_light(this,m(r(this.a,o(O(d(i)),e))),n,o(O(i),e),e),i=n.get_tail_opacity(),n=n.get_tail(),a.push(n);else for(;void 0!==n;)i=b(m(r(n.a,i))),e=b(d(m(r(d(i),d(this.a))))),$.merge_scale_of_255_a_fixed_light(this,m(r(this.a,o(O(d(i)),e))),n,o(O(i),e),e),i=n.get_tail_opacity(),n=n.get_tail(),a.push(n);for(;0<a.length;)a[0].set_from_simdope(this),a.shift()},$.prototype.blend_with=function(t,e,n,i){return n|=0,i|=0,t.multiply_a_255(0|(e|=0)),0!=(0|n)?this.is_fully_transparent()?t.set_from_array(t.get_subarray()):t.is_fully_transparent()&&this.set_from_array(t.get_subarray()):(e=b(0!=(0|i)?u(p(this.a,t.a)):d(m(r(d(t.a),d(this.a))))),$.merge_scale_of_255_a_fixed(this,m(r(this.a,o(O(d(t.a)),e))),t,o(O(t.a),e),e)),this},$.prototype.blend_first_with=function(t,e,n,i){n|=0,i|=0;var a=m(r(t.a,e|=0));return 0!=(0|n)?this.is_fully_transparent()?t.set_from_array(this.get_subarray()):0==(0|a)&&this.set_from_array(t.get_subarray()):(e=b(0!=(0|i)?u(p(this.a,a)):d(m(r(d(a),d(this.a))))),$.merge_scale_of_255_a_fixed_light(this,m(r(this.a,o(O(d(a)),e))),t,m(r(a,o(O(a),e))),e)),this},$.prototype.get_difference_with=function(t){return $.new_of(h(this.r,t.r),h(this.g,t.g),h(this.b,t.b),h(this.a,t.a))},$.prototype.sum_rgba=function(){return p(p(this.r,this.g),p(this.b,this.a))},$.prototype.sum_rgb=function(){return p(p(this.r,this.g),this.b)},$.prototype.average_rgb=function(){return b(o(this.sum_rgb(),3))},$.prototype.is_dark=function(){return k(m(r(d(this.average_rgb()),this.a)),128)},$.prototype.is_skin=function(){return this.skin},$.prototype.is_not_skin=function(){return!this.skin},$.prototype.is_fully_transparent=function(){return A(this.a,0)},$.prototype.is_fully_opaque=function(){return A(this.a,255)},$.prototype.is_not_fully_transparent=function(){return!this.is_fully_transparent()},$.prototype.is_not_fully_opaque=function(){return!this.is_fully_opaque()},$.prototype.match_with=function(t,e){return 255==(e=(0|e)>>>0)||(0===e?this.uint32==t.uint32:h(this.r-t.r|0)<(0|e)&&h(this.g-t.g|0)<(0|e)&&h(this.b-t.b|0)<(0|e)&&h(this.a-t.a|0)<(0|e))},$.prototype.euclidean_match_with=function(r,n){return n=q(n),ut[0]=q(Y-q(h(this.a-r.a|0)/L[3])),ut[1]=q(ut[0]-X),q(e(D[0]*t(this.r-r.r|0)+D[1]*t(this.g-r.g|0)+D[2]*t(this.b-r.b|0)|0)/R)<q(n*ut[1])},$.prototype.manhattan_match_with=function(t,e){return e=q(e),ut[0]=q(Y-q(h(this.a-t.a|0)/L[3])),ut[1]=q(ut[0]-X),q((D[0]*h(this.r-t.r|0)+D[1]*h(this.g-t.g|0)+D[2]*h(this.b-t.b|0)|0)/V)<q(e*ut[1])},$.prototype.cie76_match_with=function(r,n){n=q(n),ut[0]=q(Y-q(h(this.a-r.a|0)/L[3])),ut[1]=q(ut[0]*ut[0]-X);var i=this.laba;r=r.laba;return q(e(t(i[0]-r[0])+t(i[1]-r[1])+t(i[2]-r[2])|0)/W)<q(n*ut[1])},$.prototype.set_r=function(t){return this.subarray_[0]=b(t),this},$.prototype.set_g=function(t){return this.subarray_[1]=b(t),this},$.prototype.set_b=function(t){return this.subarray_[2]=b(t),this},$.prototype.set_a=function(t){return this.subarray_[3]=b(t),this},$.prototype.to_greyscale=function(t){var e=this.subarray_;return e[0]=e[1]=e[2]=this.average_rgb(),this},$.prototype.to_greyscale_luma=function(t){var e=this.subarray_;return e[0]=e[1]=e[2]=b((this.r*D[0]+this.g*D[1]+this.b*D[2])/3|0),this},$.prototype.multiply_a_255=function(t){this.subarray_[3]=b(m(r(0|this.a,0|t)))},$.prototype.copy=function(t){return void 0!==t&&t instanceof $?(t.set_from_simdope(this),t):new $(this.slice_.buffer)},$.with_r=function(t,e){return(t=t.get_slice())[0]=b(e),new $(t.buffer)},$.with_g=function(t,e){return(t=t.get_slice())[1]=b(e),new $(t.buffer)},$.with_b=function(t,e){return(t=t.get_slice())[2]=b(e),new $(t.buffer)},$.with_a=function(t,e){return(t=t.get_slice())[3]=b(e),new $(t.buffer)},$.with_inverse=function(t){return(t=t.get_slice())[0]=d(t[0]),t[1]=d(t[1]),t[2]=d(t[2]),t[3]=d(t[3]),new $(t.buffer)},$.match=function(t,e,r){return t.match_with(e,r)},$.blend=function(t,e,r,n,i){return t.copy().blend_first_with(e,r,n,i)},$.prototype.merge_with_a_fixed=function(t,e){e=b(e);var r=this.subarray_;r[0]=p(this.r,t.r),r[1]=p(this.g,t.g),r[2]=p(this.b,t.b),r[3]=b(e),t.set_from_simdope(this)},$.merge_scale_of_255_a_fixed=function(t,e,n,i,o){e=b(e),i=b(i),o=b(o);var u=t.get_subarray(),a=n.get_subarray();u[0]=m(r(t.r,e)),u[1]=m(r(t.g,e)),u[2]=m(r(t.b,e)),a[0]=m(r(n.r,i)),a[1]=m(r(n.g,i)),a[2]=m(r(n.b,i)),u[0]=p(t.r,n.r),u[1]=p(t.g,n.g),u[2]=p(t.b,n.b),u[3]=b(o),a[0]=u[0],a[1]=u[1],a[2]=u[2],a[3]=u[3]},$.merge_scale_of_255_a_fixed_light=function(t,e,n,i,o){e=b(e),i=b(i),o=b(o);var u=t.get_subarray();u[0]=p(m(r(t.r,e)),m(r(n.r,i))),u[1]=p(m(r(t.g,e)),m(r(n.g,i))),u[2]=p(m(r(t.b,e)),m(r(n.b,i))),u[3]=b(o)},$.scale_rgb_of_on_255=function(t,e,n,i){var o=t.get_subarray();o[0]=m(r(t.r,e)),o[1]=m(r(t.g,n)),o[2]=m(r(t.b,i))},$.merge_with_a_fixed=function(t,e,r){var n=t.get_subarray();n[0]=p(t.r,e.r),n[1]=p(t.g,e.g),n[2]=p(t.b,e.b),n[3]=b(r),e.set_from_array(n)},$.blend_all_four=function(t,e,n,i,o,u,a,f,_,s,c,l,g,h){h|=0,0!=(g|=0)&&((t.is_fully_transparent()||o.is_fully_transparent())&&(nt[0]=1),(e.is_fully_transparent()||u.is_fully_transparent())&&(nt[1]=1),(n.is_fully_transparent()||a.is_fully_transparent())&&(nt[2]=1),i.is_fully_transparent()||f.is_fully_transparent())&&(nt[3]=1),_=b(_),s=b(s),c=b(c),l=b(l),o.multiply_a_255(_),u.multiply_a_255(s),a.multiply_a_255(c),f.multiply_a_255(l),0!=(0|h)?(tt[0]=at(t.a,_),tt[1]=at(e.a,s),tt[2]=at(n.a,c),tt[3]=at(i.a,l)):(tt[0]=ft(o.a,t.a),tt[1]=ft(u.a,e.a),tt[2]=ft(a.a,n.a),tt[3]=ft(f.a,i.a)),et[0]=_t(o.a,tt[0]),et[1]=_t(u.a,tt[1]),et[2]=_t(a.a,tt[2]),et[3]=_t(f.a,tt[3]),rt[0]=st(t.a,o.a,tt[0]),rt[1]=st(e.a,u.a,tt[1]),rt[2]=st(n.a,a.a,tt[2]),rt[3]=st(i.a,f.a,tt[3]),o.set_out_of(0,m(r(o.b,et[0])),m(r(o.g,et[0])),m(r(o.r,et[0]))),u.set_out_of(0,m(r(u.b,et[1])),m(r(u.g,et[1])),m(r(u.r,et[1]))),a.set_out_of(0,m(r(a.b,et[2])),m(r(a.g,et[2])),m(r(a.r,et[2]))),f.set_out_of(0,m(r(f.b,et[3])),m(r(f.g,et[3])),m(r(f.r,et[3]))),t.set_out_of(0,m(r(t.b,rt[0])),m(r(t.g,rt[0])),m(r(t.r,rt[0]))),e.set_out_of(0,m(r(e.b,rt[1])),m(r(e.g,rt[1])),m(r(e.r,rt[1]))),n.set_out_of(0,m(r(n.b,rt[2])),m(r(n.g,rt[2])),m(r(n.r,rt[2]))),i.set_out_of(0,m(r(i.b,rt[3])),m(r(i.g,rt[3])),m(r(i.r,rt[3]))),t.merge_with_a_fixed(o,tt[0]),e.merge_with_a_fixed(u,tt[1]),n.merge_with_a_fixed(a,tt[2]),i.merge_with_a_fixed(f,tt[3]),0!=(0|nt[0])&&(t.set_out_of(0,0,0,0),o.set_out_of(0,0,0,0)),0!=(0|nt[1])&&(e.set_out_of(0,0,0,0),u.set_out_of(0,0,0,0)),0!=(0|nt[2])&&(n.set_out_of(0,0,0,0),a.set_out_of(0,0,0,0)),0!=(0|nt[3])&&(i.set_out_of(0,0,0,0),f.set_out_of(0,0,0,0))},$.plus=function(t,e){return ot[3]=b(P(255,w(t.r,e.r))),ot[2]=b(P(255,w(t.g,e.g))),ot[1]=b(P(255,w(t.b,e.b))),ot[0]=b(P(255,w(t.a,e.a))),new $(ot.slice(0,4).buffer)},$.minus=function(t,e){return ot[3]=b(j(0,v(t.r,e.r))),ot[2]=b(j(0,v(t.g,e.g))),ot[1]=b(j(0,v(t.b,e.b))),ot[0]=b(j(0,v(t.a,e.a))),new $(ot.slice(0,4).buffer)},$.average=function(t,e){return ot[3]=b(u(p(t.r,e.r))),ot[2]=b(u(p(t.g,e.g))),ot[1]=b(u(p(t.b,e.b))),ot[0]=b(u(p(t.a,e.a))),new $(ot.slice(0,4).buffer)},$}(),o=s.multiply_uint_4,u=s.divide_4_uint,a=s.plus_uint,f=s.clamp_uint8,_=s.clamp_uint32,Object.defineProperty(h.prototype,"length",{get:function(){return this.storage_uint32_array_.length}}),Object.defineProperty(h.prototype,"buffer_",{get:function(){return this.storage_uint8_array_.buffer}}),Object.defineProperty(h.prototype,"buffer_setUint8",{get:function(){return function(t,e){return this.storage_uint8_array_[0|t]=f(0|e)}}}),Object.defineProperty(h.prototype,"get_deduplicated_uint32a",{get:function(){return function(t){return Uint32Array.from(new Set(this.storage_uint32_array_))}}}),Object.defineProperty(h.prototype,"get_colors_count",{get:function(){return function(t){for(var e,r=0,n=this.storage_uint32_array_.length,i=new Uint32Array(t.length);(0|r)<(0|n);r=a(r,1))-1!=(0|(e=t.indexOf(this.storage_uint32_array_[0|r])))&&(i[e]=(i[e]+1|0)>>>0);return i}}}),Object.defineProperty(h.prototype,"get_deduplicated_sorted_uint32a",{get:function(){return function(t,e,r){var n=this.get_deduplicated_uint32a(),i=0|n.length,o=this.get_colors_count(n),u=new Array(i).fill(null).map((function(t,e){return{color:c.new_uint32(n[0|e]),count:o[0|e]}})),a=(t=0|t||i,e=void 0===e?c.new_of(255,255,255,255):"string"==typeof e?c.new_hex(e):"object"==typeof e?c.new_array_safe(e):c.new_uint32(e),r=void 0===r?"hilbert":"moore"===r?"moore":"lebesgue",new c(new ArrayBuffer(4))),f=new c(new ArrayBuffer(4));return u.sort((function(t,e){return t.count-e.count|0})),r="lebesgue",(u=u.slice(0,0|t)).sort((function(t,n){return e.copy(a).blend_first_with(t.color,255),e.copy(f).blend_first_with(n.color,255),a[r]-f[r]|0})),Uint32Array.from(u.map((function(t){return t.color.uint32})))}}}),Object.defineProperty(h.prototype,"buffer_getUint8",{get:function(){return function(t){return this.storage_uint8_array_[0|t]}}}),Object.defineProperty(h.prototype,"buffer_getUint8a",{get:function(){return function(t,e){return e=a(t|=0,o(e=(e|=0)||1)),this.storage_uint8_array_.subarray(t,e)}}}),Object.defineProperty(h.prototype,"buffer_setUint32",{get:function(){return function(t,e){this.storage_uint32_array_[0|t]=_(e)}}}),Object.defineProperty(h.prototype,"buffer_getUint32",{get:function(){return function(t){return this.storage_uint32_array_[0|t]}}}),Object.defineProperty(h.prototype,"subarray_uint32",{get:function(){return function(t,e){return e=(e|=0)||this.length,this.storage_uint32_array_.subarray(t|=0,e)}}}),Object.defineProperty(h.prototype,"slice_uint32",{get:function(){return function(t,e){return e=(e|=0)||this.length,this.storage_uint32_array_.slice(t|=0,e)}}}),Object.defineProperty(h.prototype,"subarray_uint8",{get:function(){return function(t,e){return e|=0,this.storage_uint8_array_.subarray(o(t|=0),o(e))}}}),Object.defineProperty(h.prototype,"slice_uint8",{get:function(){return function(t,e){return e|=0,this.storage_uint8_array_.slice(o(t|=0),o(e))}}}),h.prototype.get_image_data=function(){return new Uint8Array(this.slice_uint32(0,this.length).buffer)},h.prototype.get_element=function(t,e){return void 0!==e?(e.set_from_buffer(this.buffer_,0|t),e):new c(this.buffer_,0|t)},h.prototype.get_use_element=function(t,e){e.set_from_buffer(this.buffer_,0|t)},h.prototype.subarray=function(t,e){return this.buffer_getUint8a(0|t,0|e)},h.prototype.set_element=function(t,e){this.buffer_setUint32(0|t,_(e.uint32))},h.prototype.set_uint32_element=function(t,e){this.buffer_setUint32(0|t,_(e))},h.prototype.get_uint32_element=function(t){return this.buffer_getUint32(t|=0)},h.prototype.get_sub_uint8a=function(t,e){return e|=0,this.buffer_getUint8a(o(t|=0),e)},h.prototype.get_slice_uint8a=function(t,e){return e|=0,this.buffer_getUint8a(o(t|=0),e).slice(0,o(e||1))},h.prototype.get_buffer=function(t,e){return e|=0,this.buffer_getUint8a(o(t|=0),e).buffer},l=h,n.simdops=s,n.Color=c,n.SIMDopeColor=n.Color,n.Colors=l,n.SIMDopeColors=n.Colors;var n,i,o,u,a,f,_,s,c,l=n;function g(t){return((t=(0|t)>>>0)/85|0)>>>0}function h(t,e,r){return this instanceof h?(e|=0,void 0!==t?(void 0!==t.data?(r=0|r||0|t.data.buffer.byteLength,this.storage_uint8_array_=new Uint8Array(t.data.buffer,e,r),this.storage_uint32_array_=new Uint32Array(t.data.buffer,e,u(r))):void 0!==t.buffer?(r=0|r||0|t.buffer.byteLength,this.storage_uint8_array_=new Uint8Array(t.buffer,e,r),this.storage_uint32_array_=new Uint32Array(t.buffer,e,u(r))):(r=0|r||0|t.byteLength,this.storage_uint8_array_=new Uint8Array(t,e,r),this.storage_uint32_array_=new Uint32Array(t,e,u(r))),this):null):new h(t)}t.exports=l},function(t,e,r){"use strict";r.r(e),e=r(0),window.SIMDOPE=r.n(e).a}]);