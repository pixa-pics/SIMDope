!function(){var t={exports:{}},e=function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},r=Math.round,n=Math.fround,i=function(t){return 0|e(0|(t|=0),0|t)},a=function(t){if(0==(0|(t=(0|t)>>>0))||1==(0|t))return 0|t;for(var e=1,r=1;(0|r)<=(0|t);)r=((e=(e+1|0)>>>0)*e|0)>>>0;return(e-1|0)>>>0},o=n(.299),u=n(.587),f=n(.114),_=n(1),s=(0|a(255*o*255+255*u*255+255*f*255|0))>>>0,c=(255*o+255*u+255*f|0)>>>0;function l(t,e){return((t|=0)+(e|=0)|0)>>>0}function g(t,e){return t|=0,e|=0,0|Math.imul(t,e)}function b(t){return t<<2}function y(t,e){return((t|=0)/(e|=0)|0)>>>0}function h(t){return(t>>2|0)>>>0}function p(t){return(t>>5|0)>>>0}function d(t){return(t>>6|0)>>>0}function m(t){return(t/85-.012|0)>>>0}function w(t){return(t>>7|0)>>>0}function v(t,e,r){return r|=0,0|((t|=0)<(e|=0)?e:t>r?r:t)}function k(t){return 255&(0|t)}function q(t){return 255&(255-(t|=0)|0)}function U(t){return 255&((t|=0)/255|0)}function O(t){return(0|(t|=0))>>>0>>>0}function A(t,e){return(0|(t|=0))==(0|e)}function j(t){return(0|(t|=0))<0?0|-t:0|t}var P={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},x={unary_neg:t=>-t,unary_bitwise_not:t=>~t,unary_logical_not:t=>!t,boolean_and:(t,e)=>t&&e,binary_and:(t,e)=>t&e,binary_or:(t,e)=>t|e,binary_xor:(t,e)=>t^e,binary_add:(t,e)=>t+e,binary_sub:(t,e)=>t-e,binary_mul:(t,e)=>t*e,binary_div:(t,e)=>t/e,binary_equal:(t,e)=>t==e,binary_not_equal:(t,e)=>t!=e,binary_less:(t,e)=>t<e,binary_less_equal:(t,e)=>t<=e,binary_greater:(t,e)=>t>e,binary_greater_equal:(t,e)=>t>=e,binary_shift_left:(t,e)=>t<<e,binary_shift_right_arithmetic:(t,e)=>t>>e,binary_shift_right_logical:(t,e)=>t>>>e,min_num:(t,e)=>t!=t?e:e!=e?t:Math.min(t,e),max_num:(t,e)=>t!=t?e:e!=e?t:Math.max(t,e),modulo_int:(t,e)=>t%e|0,modulo_uint:(t,e)=>(t%e|0)>>>0,plus_int:(t,e)=>t+e|0,minus_int:(t,e)=>t-e|0,plus_uint:l,minus_uint:(t,e)=>(t-e|0)>>>0,multiply_int:(t,r)=>0|e(0|t,0|r),divide_int:(t,e)=>t/e|0,multiply_uint:g,multiply_uint_4:b,divide_uint:y,divide_four_uint:h,divide_16_uint:function(t){return(t>>4|0)>>>0},divide_32_uint:p,divide_64_uint:d,divide_85_uint:m,divide_128_uint:w,abs_int:j,max_int:(t,e)=>(t|=0)>(e|=0)?e:t,min_int:(t,e)=>(t|=0)<(e|=0)?t:e,max_uint:(t,e)=>((t=(0|t)>>>0)>(e=(0|e)>>>0)?e:0|t)>>>0,min_uint:(t,e)=>(t=(0|t)>>>0)>(e=(0|e)>>>0)?t:0|e,clamp_int:v,clamp_uint8:k,inverse_255:q,divide_255:U,multiply_255:t=>0|e(0|t,255),clamp_uint32:O,int_equal:(t,e)=>(0|t)==(0|e),int_not_equal:(t,e)=>(0|t)!=(0|e),int_less:(t,e)=>(0|t)<(0|e),int_less_equal:(t,e)=>(0|t)<=(0|e),int_greater:(t,e)=>(0|t)>(0|e),int_greater_equal:(t,e)=>(0|t)>=(0|e),uint_equal:(t,e)=>(0|t)>>>0==(0|e)>>>0,uint_not_equal:function(t,e){return(0|(t|=0))!=(0|e)},uint_equal:A,uint_less:(t,e)=>(0|t)>>>0<(0|e)>>>0,uint_less_equal:(t,e)=>(0|t)>>>0<=(0|e)>>>0,uint_greater:(t,e)=>(0|t)>>>0>(0|e)>>>0,uint_greater_equal:(t,e)=>(0|t)>>>0>=(0|e)>>>0,format_int:t=>0|t,format_uint:t=>(0|t)>>>0},{unary_neg:C,unary_bitwise_not:M,unary_logical_not:I,boolean_and:S,binary_and:z,binary_or:D,binary_xor:B,binary_add:N,binary_sub:F,binary_mul:G,binary_div:L,binary_equal:T,binary_not_equal:X,binary_less:E,binary_less_equal:H,binary_greater:J,binary_greater_equal:K,binary_shift_left:Q,binary_shift_right_arithmetic:R,binary_shift_right_logical:V,min_num:W,max_num:Y,modulo_int:Z,modulo_uint:$,plus_int:tt,minus_int:et,minus_uint:rt,multiply_int:nt,divide_int:it,multiply_255:at,divide_four_uint:ot,max_int:ut,min_int:ft,max_uint:_t,min_uint:st,int_equal:ct,int_not_equal:lt,int_less:gt,int_less_equal:bt,int_greater:yt,int_greater_equal:ht,uint_equal:A,uint_less:pt,uint_less_equal:dt,uint_greater:mt,uint_greater_equal:wt,format_int:vt,format_uint:kt}=x,qt=function(t,r){if(r=r||0,!(this instanceof qt))return new qt(t,r);t instanceof Uint8Array?this.storage_uint8_=t:this.storage_uint8_=new Uint8Array("buffer"in t?t.buffer:t,e(r,4))};function Ut(t,e){return k(y(l(t,e),2))}function Ot(t,e){return k(q(U(g(q(t),q(e)))))}function At(t,e){return k(y(at(t),e))}function jt(t,e,r){return k(U(g(t,y(at(q(e)),r))))}qt.new_zero=function(){return new qt(new Uint8Array(4))},qt.new_splat=function(t){var e=new Uint8ClampedArray(4);return e.fill(k(t)),new qt(e)},qt.new_of=function(t,e,r,n){var i=new Uint8ClampedArray(4);return i[3]=k(t),i[2]=k(e),i[1]=k(r),i[0]=k(n),qt(i)},qt.new_safe_of=function(t,e,r,n){var i=new Uint8ClampedArray(4);return i[3]=v(t,0,255),i[2]=v(e,0,255),i[1]=v(r,0,255),i[0]=v(n,0,255),new qt(i)},qt.new_from=function(t){return new qt(t)},qt.new_array=function(t){var e=new Uint8ClampedArray(4);return e[3]=k(t[0]),e[2]=k(t[1]),e[1]=k(t[2]),e[0]=k(t[3]),new qt(e)},qt.new_array_safe=function(t){var e=new Uint8ClampedArray(4);return e[3]=k(v(t[0],0,255)),e[2]=k(v(t[1],0,255)),e[1]=k(v(t[2],0,255)),e[0]=k(v(t[3],0,255)),new qt(e)},qt.new_bool=function(t,e,r,n){var i=new Uint8ClampedArray(4);return i[3]=(0|t)>0?1:0,i[2]=(0|e)>0?1:0,i[1]=(0|r)>0?1:0,i[0]=(0|n)>0?1:0,new qt(i)},qt.new_uint32=function(t){return new qt(Uint32Array.of(0|t).buffer)},qt.new_hsla=function(t,e,r,n){let i,a,o;if(t/=360,r/=100,n/=100,0==(e/=100))i=a=o=r;else{function u(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}const n=r<.5?r*(1+e):r+e-r*e,f=2*r-n;i=u(f,n,t+1/3),a=u(f,n,t),o=u(f,n,t-1/3)}return qt.new_of(kt(255*i),kt(255*a),kt(255*o),kt(255*n))},qt.new_hex=function(t){return qt.new_uint32(parseInt(function(t){if(void 0===t)return"#00000000";if(P.hasOwnProperty(t))return P[t]+"ff";var e="",r="",n="",i="",a="#12345678";switch(0|t.length){case 9:a=t;break;case 7:a=t.concat("ff");break;case 5:e=t.charAt(1),r=t.charAt(2),n=t.charAt(3),i=t.charAt(4),a="#".concat(e,e,r,r,n,n,i,i);break;case 4:e=t.charAt(1),r=t.charAt(2),n=t.charAt(3),a="#".concat(e,e,r,r,n,n,"ff")}return a}(t).slice(1),16))},Object.defineProperty(qt.prototype,"r",{get:function(){return k(this.storage_uint8_[3])}}),Object.defineProperty(qt.prototype,"g",{get:function(){return k(this.storage_uint8_[2])}}),Object.defineProperty(qt.prototype,"b",{get:function(){return k(this.storage_uint8_[1])}}),Object.defineProperty(qt.prototype,"a",{get:function(){return k(this.storage_uint8_[0])}}),Object.defineProperty(qt.prototype,"pos",{get:function(){var t=this.hsl;return(32*t[0]+16*t[2]+8*t[1]|0)>>>0}}),Object.defineProperty(qt.prototype,"z",{get:function(){return k(this.storage_uint8_[3])}}),Object.defineProperty(qt.prototype,"y",{get:function(){return k(this.storage_uint8_[2])}}),Object.defineProperty(qt.prototype,"x",{get:function(){return k(this.storage_uint8_[1])}}),Object.defineProperty(qt.prototype,"w",{get:function(){return k(this.storage_uint8_[0])}}),Object.defineProperty(qt.prototype,"uint32",{get:function(){return(this.storage_uint8_[3]<<24|this.storage_uint8_[2]<<16|this.storage_uint8_[1]<<8|this.storage_uint8_[0]|0)>>>0}}),Object.defineProperty(qt.prototype,"hex",{get:function(){return"#".concat("00000000".concat(this.uint32.toString(16)).slice(-8))}}),Object.defineProperty(qt.prototype,"hsla",{get:function(){var t=k(this.storage_uint8_[3]),e=k(this.storage_uint8_[2]),r=k(this.storage_uint8_[1]),n=k(this.storage_uint8_[0]);t=+t/255,e=+e/255,r=+r/255,n=+n/255;var i,a,o=Math.max(t,e,r),u=Math.min(t,e,r),f=(o+u)/2;if(o==u)i=a=0;else{var _=o-u;switch(a=f>.5?_/(2-o-u):_/(o+u),o){case t:i=(e-r)/_+(e<r?6:0);break;case e:i=(r-t)/_+2;break;case r:i=(t-e)/_+4}i/=6}return Array.of(360*i|0,100*a|0,100*f|0,100*n|0)}}),Object.defineProperty(qt.prototype,"rgbaon4bits",{get:function(){return(w(this.storage_uint8_[3])<<3|w(this.storage_uint8_[2])<<2|w(this.storage_uint8_[1])<<1|w(this.storage_uint8_[0])<<0|0)>>>0}}),Object.defineProperty(qt.prototype,"rgbaon6bits",{get:function(){return((16^m(this.storage_uint8_[3]))+(8^m(this.storage_uint8_[2]))+(4^m(this.storage_uint8_[1]))+(0^m(this.storage_uint8_[0]))|0)>>>0}}),Object.defineProperty(qt.prototype,"rgbaon8bits",{get:function(){return(d(this.storage_uint8_[3])<<6|d(this.storage_uint8_[2])<<4|d(this.storage_uint8_[1])<<2|d(this.storage_uint8_[0])<<0|0)>>>0}}),Object.defineProperty(qt.prototype,"rgbaon12bits",{get:function(){return(p(this.storage_uint8_[3])<<9|p(this.storage_uint8_[2])<<6|p(this.storage_uint8_[1])<<3|p(this.storage_uint8_[0])<<0|0)>>>0}}),Object.defineProperty(qt.prototype,"offset",{get:function(){return ot(this.storage_uint8_.byteOffset)}}),Object.defineProperty(qt.prototype,"buffer",{get:function(){return this.storage_uint8_.buffer.slice(this.storage_uint8_.byteOffset,l(this.storage_uint8_.byteOffset,4))}}),Object.defineProperty(qt.prototype,"subarray",{get:function(){return this.storage_uint8_.subarray(0,4)}}),Object.defineProperty(qt.prototype,"set",{get:function(){return function(t){t instanceof qt?(this.storage_uint8_[0]=t.a,this.storage_uint8_[1]=t.b,this.storage_uint8_[2]=t.g,this.storage_uint8_[3]=t.r):"subarray"in t?this.storage_uint8_.set(t.subarray(0,4)):this.storage_uint8_.set(t)}}}),Object.defineProperty(qt.prototype,"set_out_of",{get:function(){return function(t,e,r,n){this.storage_uint8_[0]=k(t),this.storage_uint8_[1]=k(e),this.storage_uint8_[2]=k(r),this.storage_uint8_[3]=k(n)}}}),Object.defineProperty(qt.prototype,"slice",{get:function(){return this.storage_uint8_.slice(0,4)}}),qt.prototype.simplify=function(t){var e=Uint8ClampedArray.of(g(r(this.a/t),t),g(r(this.b/t),t),g(r(this.g/t),t),g(r(this.r/t),t));return this.set(e),this},qt.blend_all=function(t,e,r){var i,a,o,u=t.r,f=t.g,_=t.b,s=t.a,c=1,l=0|e.length;for(o=0;o<l;o++)i=e[o],c+=a=n(r[o]),u+=i.r*a|0,f+=i.g*a|0,_+=i.b*a|0,s+=i.a*a|0;var g=Uint8Array.of(s/c|0,_/c|0,f/c|0,u/c|0);for(t.set(g),o=0;o<l;o++)e[o].set(g)},qt.prototype.blend_with=function(t,r,n,i){if(n|=0,i|=0,r|=0,t.multiply_a_255(0|r),0!=(0|n))this.is_fully_transparent()?t.set(new ArrayBuffer(4)):t.is_fully_transparent()&&this.set(new ArrayBuffer(4));else{var a=0!=(0|i)?y(l(this.a,t.a),2):q(U(e(q(t.a),q(this.a))));this.set(qt.merge_scale_of_255_a_fixed(t,y(e(t.a,255),a),this,U(e(this.a,y(e(q(t.a),255),a))),a)),t.set(this)}},qt.prototype.get_difference_with=function(t){return qt.new_of(j(this.r,t.r),j(this.g,t.g),j(this.b,t.b),j(this.a,t.a))},qt.prototype.sum_rgba=function(){return l(l(this.r,this.g),l(this.b,this.a))},qt.prototype.sum_rgb=function(){return l(l(this.r,this.g),this.b)},qt.prototype.is_dark=function(){return dt(this.sum_rgb(),384)},qt.prototype.is_fully_transparent=function(){return A(this.a,0)},qt.prototype.is_fully_opaque=function(){return A(this.a,255)},qt.prototype.is_not_fully_transparent=function(){return!this.is_fully_transparent()},qt.prototype.is_not_fully_opaque=function(){return!this.is_fully_opaque()},qt.prototype.match_with=function(t,e){return 255==(e=(0|e)>>>0)||(0===e?this.uint32==t.uint32:j(this.r-t.r|0)<(0|e)&&j(this.g-t.g|0)<(0|e)&&j(this.b-t.b|0)<(0|e)&&j(this.a-t.a|0)<(0|e))},qt.prototype.euclidean_match_with=function(t,e){if(1e3==(0|(e=(0|e)>>>0)))return!0;if(0==(0|e))return(0|this.uint32)==(0|t.uint32);var r=(255-j(this.a-t.a|0)|0)/255*_;return(a(o*i(this.r-t.r|0)+u*i(this.g-t.g|0)+f*i(this.b-t.b|0))/s*1e3|0)<(e*r|0)},qt.prototype.manhattan_match_with=function(t,e){if(1e3==(0|(e=(0|e)>>>0)))return!0;if(0==(0|e))return(0|this.uint32)==(0|t.uint32);var r=(255-j(this.a-t.a|0)|0)/255*_;return(1e3*(o*j(this.r-t.r|0)+u*j(this.g-t.g|0)+f*j(this.b-t.b|0)|0)/c|0)<(e*r|0)},qt.prototype.set_r=function(t){return this.subarray[3]=k(t),this},qt.prototype.set_g=function(t){return this.subarray[2]=k(t),this},qt.prototype.set_b=function(t){return this.subarray[1]=k(t),this},qt.prototype.set_a=function(t){return this.subarray[0]=k(t),this},qt.prototype.multiply_a_255=function(t){this.subarray[0]=k(U(g(0|this.a,0|t)))},qt.prototype.copy=function(t){return qt(this.slice)},qt.with_r=function(t,e){var r=t.slice;return r[3]=k(e),qt(r)},qt.with_g=function(t,e){var r=t.slice;return r[2]=k(e),qt(r)},qt.with_b=function(t,e){var r=t.slice;return r[1]=k(e),qt(r)},qt.with_a=function(t,e){var r=t.slice;return r[0]=k(e),qt(r)},qt.with_inverse=function(t){var e=t.slice;return e[3]=rt(255-e[3]),e[2]=rt(255-e[2]),e[1]=rt(255-e[1]),e[0]=rt(255-e[0]),qt(e)},qt.sumarray=function(t,e,r){e=st(e|=0,3),r=st(r=(r|=0)||4,4);for(var n=0,i=e;pt(i,r);i=l(i,1))n=l(n,t[CONFIG_UINT8X4.charAt(0|i)]);return 0|n},qt.row_is_equal=function(t,e){return qt.new_bool(A(t.r,e.r),A(t.g,e.g),A(t.b,e.b),A(t.a,e.a))},qt.row_is_greater=function(t,e){return qt.new_bool(mt(t.r,e.r),mt(t.g,e.g),mt(t.b,e.b),mt(t.a,e.a))},qt.row_is_less=function(t,e){return qt.new_bool(pt(t.r,e.r),pt(t.g,e.g),pt(t.b,e.b),pt(t.a,e.a))},qt.row_is_greater_equal=function(t,e){return qt.new_bool(wt(t.r,e.r),wt(t.g,e.g),wt(t.b,e.b),wt(t.a,e.a))},qt.row_is_less_equal=function(t,e){return qt.new_bool(dt(t.r,e.r),dt(t.g,e.g),dt(t.b,e.b),dt(t.a,e.a))},qt.row_get_difference=function(t,e){return qt.new_of(j(t.r,e.r),j(t.g,e.g),j(t.b,e.b),j(t.a,e.a))},qt.match=function(t,e,r){return t.match_with(e,r)},qt.blend=function(t,e,r,n,i){return t.copy().blend_with(e,r,n,i)},qt.prototype.merge_with_a_fixed=function(t,e){var r=this.subarray;r[0]=k(e),r[1]=l(this.b,t.b),r[2]=l(this.g,t.g),r[3]=l(this.r,t.r)},qt.merge_scale_of_255_a_fixed=function(t,e,r,n,i){return e=k(e),n=k(n),i=k(i),qt.merge_with_a_fixed(qt.scale_rgb_of_on_255(t,e,e,e),qt.scale_rgb_of_on_255(r,n,n,n),i)},qt.scale_rgb_of_on_255=function(t,r,n,i){return qt(Uint8ClampedArray.of(0,U(e(t.b,i)),U(e(t.g,n)),U(e(t.r,r))))},qt.merge_with_a_fixed=function(t,e,r){return qt(Uint8ClampedArray.of(k(r),l(t.b,e.b),l(t.g,e.g),l(t.r,e.r)))},qt.blend_all_four=function(t,e,r,n,i,a,o,u,f,_,s,c,l,b){b|=0,l|=0;var y=new Uint8Array(4),h=new Uint8Array(4),p=new Uint8Array(4),d=new Uint8Array(4);0!=l&&((t.is_fully_transparent()||i.is_fully_transparent())&&(d[0]=1),(e.is_fully_transparent()||a.is_fully_transparent())&&(d[1]=1),(r.is_fully_transparent()||o.is_fully_transparent())&&(d[2]=1),(n.is_fully_transparent()||u.is_fully_transparent())&&(d[3]=1)),f=k(f),_=k(_),s=k(s),c=k(c),i.multiply_a_255(f),a.multiply_a_255(_),o.multiply_a_255(s),u.multiply_a_255(c),0!=(0|b)?(y[0]=Ut(t.a,f),y[1]=Ut(e.a,_),y[2]=Ut(r.a,s),y[3]=Ut(n.a,c)):(y[0]=Ot(i.a,t.a),y[1]=Ot(a.a,e.a),y[2]=Ot(o.a,r.a),y[3]=Ot(u.a,n.a)),h[0]=At(i.a,y[0]),h[1]=At(a.a,y[1]),h[2]=At(o.a,y[2]),h[3]=At(u.a,y[3]),p[0]=jt(t.a,i.a,y[0]),p[1]=jt(e.a,a.a,y[1]),p[2]=jt(r.a,o.a,y[2]),p[3]=jt(n.a,u.a,y[3]),i.set_out_of(0,U(g(i.b,h[0])),U(g(i.g,h[0])),U(g(i.r,h[0]))),a.set_out_of(0,U(g(a.b,h[1])),U(g(a.g,h[1])),U(g(a.r,h[1]))),o.set_out_of(0,U(g(o.b,h[2])),U(g(o.g,h[2])),U(g(o.r,h[2]))),u.set_out_of(0,U(g(u.b,h[3])),U(g(u.g,h[3])),U(g(u.r,h[3]))),t.set_out_of(0,U(g(t.b,p[0])),U(g(t.g,p[0])),U(g(t.r,p[0]))),e.set_out_of(0,U(g(e.b,p[1])),U(g(e.g,p[1])),U(g(e.r,p[1]))),r.set_out_of(0,U(g(r.b,p[2])),U(g(r.g,p[2])),U(g(r.r,p[2]))),n.set_out_of(0,U(g(n.b,p[3])),U(g(n.g,p[3])),U(g(n.r,p[3]))),t.merge_with_a_fixed(i,y[0]),e.merge_with_a_fixed(a,y[1]),r.merge_with_a_fixed(o,y[2]),n.merge_with_a_fixed(u,y[3]),0!=(0|d[0])&&(t.set_out_of(0,0,0,0),i.set_out_of(0,0,0,0)),0!=(0|d[1])&&(e.set_out_of(0,0,0,0),a.set_out_of(0,0,0,0)),0!=(0|d[2])&&(r.set_out_of(0,0,0,0),o.set_out_of(0,0,0,0)),0!=(0|d[3])&&(n.set_out_of(0,0,0,0),u.set_out_of(0,0,0,0))},qt.plus=function(t,e){var r=new Uint8Array(4);return r[3]=k(ft(255,tt(t.r,e.r))),r[2]=k(ft(255,tt(t.g,e.g))),r[1]=k(ft(255,tt(t.b,e.b))),r[0]=k(ft(255,tt(t.a,e.a))),qt(r)},qt.minus=function(t,e){var r=new Uint8Array(4);return r[3]=k(ut(0,et(t.r,e.r))),r[2]=k(ut(0,et(t.g,e.g))),r[1]=k(ut(0,et(t.b,e.b))),r[0]=k(ut(0,et(t.a,e.a))),qt(r)},qt.average=function(t,e){var r=new Uint8Array(4);return r[3]=k(y(tt(t.r,e.r),2)),r[2]=k(y(tt(t.g,e.g),2)),r[1]=k(y(tt(t.b,e.b),2)),r[0]=k(y(tt(t.a,e.a),2)),qt(r)},qt.merge_scale_of_255=function(t,e,r,n){return qt.merge(qt.scale_of_on_255(t,e,e,e,e),qt.scale_of_on_255(r,n,n,n,n))},qt.scale_of_on_255=function(t,e,r,n,i){return qt(Uint8Array.of(U(g(t.a,i)),U(g(t.b,n)),U(g(t.g,r)),U(g(t.r,e))))},qt.merge=function(t,e){return qt(Uint8Array.of(l(t.a,e.a),l(t.b,e.b),l(t.g,e.g),l(t.r,e.r)))},qt.merge_with_a_fixed=function(t,e,r){return qt(Uint8Array.of(k(r),l(t.b,e.b),l(t.g,e.g),l(t.r,e.r)))};var Pt=function(t,e,r){if(!(this instanceof Pt))return new Pt(t);this.storage_="buffer"in t?t.buffer:t,e|=0,r=0|r||0|this.storage_.byteLength,this.storage_uint8_array_=new Uint8Array(this.storage_,e,r),this.storage_uint32_array_=new Uint32Array(this.storage_,e,h(r))};Object.defineProperty(Pt.prototype,"length",{get:function(){return this.storage_uint32_array_.length}}),Object.defineProperty(Pt.prototype,"buffer",{get:function(){return this.storage_uint8_array_.buffer}}),Object.defineProperty(Pt.prototype,"buffer_setUint8",{get:function(){return function(t,e){return t|=0,e|=0,this.storage_uint8_array_[t]=k(e)}}}),Object.defineProperty(Pt.prototype,"buffer_getUint8",{get:function(){return function(t){return t|=0,this.storage_uint8_array_[t]}}}),Object.defineProperty(Pt.prototype,"buffer_getUint8a",{get:function(){return function(t,e){return e=l(t|=0,b(e=(e|=0)||1)),this.storage_uint8_array_.subarray(t,e)}}}),Object.defineProperty(Pt.prototype,"buffer_setUint32",{get:function(){return function(t,e){this.storage_uint32_array_[0|t]=O(e)}}}),Object.defineProperty(Pt.prototype,"buffer_getUint32",{get:function(){return function(t){return this.storage_uint32_array_[0|t]}}}),Object.defineProperty(Pt.prototype,"subarray_uint32",{get:function(){return function(t,e){return t|=0,e=(e|=0)||this.length,this.storage_uint32_array_.subarray(t,e)}}}),Object.defineProperty(Pt.prototype,"slice_uint32",{get:function(){return function(t,e){return t|=0,e=(e|=0)||this.length,this.storage_uint32_array_.slice(t,e)}}}),Object.defineProperty(Pt.prototype,"subarray_uint8",{get:function(){return function(t,e){return t|=0,e|=0,this.storage_uint8_array_.subarray(b(t),b(e))}}}),Object.defineProperty(Pt.prototype,"slice_uint8",{get:function(){return function(t,e){return t|=0,e|=0,this.storage_uint8_array_.slice(b(t),b(e))}}}),Pt.prototype.get_element=function(t){return qt(this.buffer,0|t)},Pt.prototype.subarray=function(t,e){return t|=0,e|=0,this.buffer_getUint8a(t,e)},Pt.prototype.set_element=function(t,e){this.buffer_setUint32(0|t,O(e.uint32))},Pt.prototype.set_uint32_element=function(t,e){this.buffer_setUint32(0|t,O(e))},Pt.prototype.get_uint32_element=function(t){return t|=0,this.buffer_getUint32(t)},Pt.prototype.get_sub_uint8a=function(t,e){return t|=0,e|=0,this.buffer_getUint8a(b(t),e)},Pt.prototype.get_slice_uint8a=function(t,e){return t|=0,e|=0,this.buffer_getUint8a(b(t),e).slice(0,b(e||1))},Pt.prototype.get_buffer=function(t,e){return t|=0,e|=0,this.buffer_getUint8a(b(t),e).buffer};var xt={};xt.simdops=x,xt.SIMDopeColor=qt,xt.SIMDopeColors=Pt,t&&(t.exports=xt),window.SIMDope=xt,t=t.exports}();